function initPopUp(){theBody=document.getElementsByTagName("BODY")[0],popmask=document.createElement("div"),popmask.id="popupMask",popcont=document.createElement("div"),popcont.id="popupContainer",popcont.innerHTML='<div id="popupInner"><div id="popupTitleBar" style="padding:0px 0px 0px 2px;"><div id="popupControls"><a id="closePopupId" href="javascript:hidePopWin(false);"><img src="'+baseUrl+'images/close.png" id="popCloseBox" /></a></div></div><iframe src="" style="background-color:transparent;  width:100%;"  scrolling="auto" frameborder="0" allowtransparency="true" id="popupFrame" name="popupFrame"></iframe></div>',theBody.appendChild(popmask),theBody.appendChild(popcont),gPopupMask=document.getElementById("popupMask"),gPopupContainer=document.getElementById("popupContainer"),gPopFrame=document.getElementById("popupFrame"),parseInt(window.navigator.appVersion.charAt(0),10)<=6&&window.navigator.userAgent.indexOf("MSIE")>-1&&(gHideSelects=!0);var e=document.getElementsByTagName("a");for(i=0;i<e.length;i++)0==e[i].className.indexOf("submodal")&&(e[i].onclick=function(){var e=400,o=150;return params=this.className.split("-"),3==params.length&&(e=parseInt(params[1]),o=parseInt(params[2])),showPopWin(this.href,e,o,null),!1})}function showPopWin(e,o,t,n,a,i){popWin=$("#popupInner").html(),initPopUp(),document.getElementById("popCloseBox").style.display=null==i||1==i?"block":"none",gPopupIsShown=!0,disableTabIndexes(),gPopupMask.style.display="block",gPopupContainer.style.display="block",centerPopWin(o,t);var l=parseInt(document.getElementById("popupTitleBar").offsetHeight,10);gPopupContainer.style.width=parseInt(o/8.7)+"%",gPopupContainer.style.height=t+l+"px",setMaskSize(),gPopFrame.style.height=t+"px",gPopFrame.src=e,gReturnFunc=n,1==gHideSelects&&hideSelectBoxes(),a&&(document.getElementById("popupTitle").innerHTML=a)}function checkVersion1(e,o,t,n,a,i,l){$.ajax({url:baseUrl+"comman/checkVersion",type:"POST",data:"treeId="+e+"&version="+o,dataType:"html",success:function(e){return e?(jAlert("Latest version has been created of tree.","Alert"),!1):(showPopWin(t,n,a,i,l),!0)}})}function centerPopWin(e,o){if(1==gPopupIsShown){null==o&&(o=gPopupContainer.offsetHeight);var t=document.getElementsByTagName("BODY")[0],n=parseInt(getScrollTop(),10),a=parseInt(t.scrollLeft,10);setMaskSize();parseInt(document.getElementById("popupTitleBar").offsetHeight,10),getViewportHeight();gPopupContainer.style.top=n+5*screen.height/100+"px",gPopupContainer.style.left=parseInt((a+(1255-e)/2)/10-18)+"%"}}function setMaskSize(){var e=document.getElementsByTagName("BODY")[0],o=getViewportHeight(),t=getViewportWidth();o>e.scrollHeight?popHeight=o:popHeight=e.scrollHeight,t>e.scrollWidth?popWidth=t-17:popWidth=e.scrollWidth,gPopupMask.style.height=popHeight+"px",gPopupMask.style.width=popWidth+"px"}function hidePopWin(e){/iphone|ipod|Mobile|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase());gPopupIsShown=!1,document.getElementsByTagName("BODY")[0].style.overflow="",restoreTabIndexes(),null!=gPopupMask&&(gPopupMask.style.display="none",gPopupContainer.style.display="none",1==e&&null!=gReturnFunc&&(gReturnVal=window.frames.popupFrame.returnVal,window.setTimeout("gReturnFunc(gReturnVal);",1)),gPopFrame.src=baseUrl+gDefaultPage,1==gHideSelects&&displaySelectBoxes())}function setPopTitle(){}function keyDownHandler(e){if(gPopupIsShown&&9==e.keyCode)return!1}function disableTabIndexes(){if(document.all)for(var e=0,o=0;o<gTabbableTags.length;o++)for(var t=document.getElementsByTagName(gTabbableTags[o]),n=0;n<t.length;n++)gTabIndexes[e]=t[n].tabIndex,t[n].tabIndex="-1",e++}function restoreTabIndexes(){if(document.all)for(var e=0,o=0;o<gTabbableTags.length;o++)for(var t=document.getElementsByTagName(gTabbableTags[o]),n=0;n<t.length;n++)t[n].tabIndex=gTabIndexes[e],t[n].tabEnabled=!0,e++}function hideSelectBoxes(){var e=document.getElementsByTagName("SELECT");for(i=0;e&&i<e.length;i++)e[i].style.visibility="hidden"}function displaySelectBoxes(){var e=document.getElementsByTagName("SELECT");for(i=0;e&&i<e.length;i++)e[i].style.visibility="visible"}function _CloseOnEsc(){}function Init(){color=window.dialogArguments,color=ValidateColor(color)||"000000",alert(color),View(color)}function View(e){document.all.ColorPreview.style.backgroundColor="#"+e,document.all.ColorHex.value="#"+e}function Set(e){color2=ValidateColor(e),null==color2?alert("Invalid color code: "+e):(View(color),window.returnValue="#"+color2,window.opener&&!window.opener.closed&&(window.opener.document.getElementById("<%=clr%>").value="#"+color2),window.close())}function ValidateColor(e){for(e=e||"",e=(e+="").toUpperCase(),chars="0123456789ABCDEF",out="",i=0;i<e.length;i++)schar=e.charAt(i),-1!=chars.indexOf(schar)&&(out+=schar);return 6!=out.length?null:out}var gPopupMask=null,gPopupContainer=null,gPopFrame=null,gReturnFunc,gPopupIsShown=!1,gDefaultPage="images/loading.gif",gHideSelects=!1,gReturnVal=null,gTabIndexes=new Array,gTabbableTags=new Array("A","BUTTON","TEXTAREA","INPUT","IFRAME");document.all||(document.onkeypress=keyDownHandler);var gi=0;addEvent(window,"resize",centerPopWin);